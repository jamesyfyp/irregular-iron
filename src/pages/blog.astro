---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import { getCollection } from "astro:content";

const allBlogPosts = await getCollection("blog");
---

<script src="https://unpkg.com/taichi.js/dist/taichi.umd.js"></script>
<Layout title="All dem posts">
  <main>
    {
      allBlogPosts.map((post, i) => {
        const { title, tags, body, thumbImage } = post.data;
        return (
          <div class="h-auto w-3/4 sm:w-1/2 bg-black m-auto p-8 border-2 border-white rounded-xl hover:invert">
            <div class="grid grid-cols-10  gap-8">
              <image
                class="col-span-1 align-middle"
                src={thumbImage.image}
                width="100"
                height=""
                alt={thumbImage.alt}
              />
              <div class="col-span-2">
                <h1 class="text-white font-bold">{title}</h1>
              </div>
              <div class="col-span-7 line-clamp-3 max-h-16 overflow-hidden">
                <p class="text-sm text-gray-500 ">{body.test}</p>
              </div>
            </div>
            <div class="flex p-2 my-2 gap-[10px]">
              {tags.map((tag: any) => {
                return (
                  <div class="flex bg-red-500 text-sm text-center align-middle  py-1 px-2 rounded-full ">
                    <h1>{tag}</h1>
                  </div>
                );
              })}
            </div>
          </div>
        );
      })
    }
  </main>
</Layout>
